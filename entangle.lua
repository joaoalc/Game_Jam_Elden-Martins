-- title: Elden Martins
-- author: Scrum Monkeys
-- desc:   The adventures and puzzles of a young Joe Martins
-- script: lua

--------SFX--------
--Tocar nestas notas
--44 - D#4 -- partir pedra
--50 - B#3 -- entaglement
--51 - B#3 -- second entanglemtn
--56 - A#3 -- cant break block
--58 - F#7 -- fogo
--60 - C#5 -- gelo


--------------- CONSTANTS ----------------
btiles = {
		empty = 0,
  map_player = 34,
  goal = 33, 
  wall = 32,
  level_entry = 36,
  rock_min = 1,
  rock_max = 15,
  ice_rock_min = 17,
  ice_rock_max = 31,
  ice = 90,
  fire = {
  	initial = 144, 			-- starting sprite
   nr_sprites = 3,		 -- number of sprites
   rate = 10,								-- total animation frames 
   cur_frame = 0					-- current animation frame
  }
}

walkable = {
	0, -- empty
	36 -- level_entry
}

animations = {}

ftiles = {
	player = {
		260, --up
		261, --down
		259, --left (flipped)
	 259  --right
	},
	entangle = 274,
	pick = 258
}

screenw = 240
screenh = 136

----------------- MAIN --------------------

t=0
cur_lvl = 1
lvl_amount = 9 

-- pick is a stack
lvls = {
	{x=10, y=14, ent = 0, pick = {}},
	{x=10, y=08, ent = 0, pick = {2, 2, 8, 6}},
	{x=06, y=08, ent = 0, pick = {4, 3, 2, 1, 5, 1}},
	{x=06, y=12, ent = 8, pick = {1, 1, 1, 1, 1, 1}},
	{x=02, y=12, ent = 0, pick = {1, 1, 4}},
	{x=02, y=05, ent = 2, pick = {4, 3, 6, 2}},
	{x=18, y=05, ent = 2, pick = {1, 1}},
	{x=22, y=05, ent = 3, pick = {4 ,2 ,1 ,1 ,3 ,1}},
	{x=18, y=09, ent = 2, pick = {7, 2, 3, 3}}	
}

p = {
	ent = 0,
	pick = {},
 x = 0,
 y = 0,
 in_overworld = false,
 overworldx = 2,
 overworldy = 14,
 overworldpick = {},
 overworld_cur_pick = 1,
	dirx = 0,
 diry = 0,
 look = 0, -- up < down < left < right
 entang = false,
 curr_entang = nil,
 ice_skating = false,
 cur_pick = 1,
 dead = false
}

entangs = {}
start_screen = true
end_screen = false

function TIC()
				if start_screen then
					cls()
					spr(341, 76, 24, -1, 1, 0, 0, 11, 11)
					print("Press X to start", 77, 115, 15)
					if btnp(6) then -- X PS1
						start_screen = false
					end
				elseif end_screen then
					cls()
					print("Martins is still in hell", 10, 68)
					print("but at least he has a cup...", 10, 76)
					spr(482, 200, 67, -1, 1, 0, 0, 2, 2)
				else
				
					if t == 0 then
						load_overworld()
					end
					
					input();
					update();
					render();
	    
	    t=t+1
				end
end

function input()

 -- reset
	if btnp(4) and not p.in_overworld then
		load_level(cur_lvl)
		return
	end
	
	--if p.dead then
	--	return
	--end
	
	if p.ice_skating == true then return end

	p.diry = 0
 p.dirx = 0
 p.entang = false
 p.break_block = false
 
 if p.in_overworld then
 	if btnp(6) then load_lvl_from_overworld() return end
 else
 	if btnp(6) then p.entang = true end
  if btnp(5) then load_overworld() end
 end
 
	if btnp(7) then p.break_block = true end

	if btnp(0, 10, 8) then
		p.diry = -1
		p.look = 0 
		return --up
	end
	if btnp(1, 10, 8) then
		p.diry = 1 
		p.look = 1
		return --down
	end
	if btnp(2, 10, 8) then
		p.dirx = -1
		p.look = 2
		return --left
	end
	if btnp(3, 10, 8) then
		p.dirx = 1
		p.look = 3
		return --right
	end
end

------------------ UPDATE --------------

function is_walkable(tile)
	return table.contains(walkable, tile)
end

function update()

	local newx = p.x + p.dirx
	local newy = p.y + p.diry
	
	if newx ~= p.x or newy ~= p.y then
		
		local tile = mget(newx, newy)
		
		if not handleFireTile(tile, newx, newy) then
			tile = btiles.empty
		end
		
		if (handleIceTile(tile, newx, newy)
			or handleGoalTile(tile, newx, newy)
			or handleEmptyTile(tile, newx, newy)
		) then end
		
	else 
			-- No movement
			local lookTile = getLookTile()
			
			tile = mget(lookTile[1], lookTile[2])
			
		if (handleEntang(tile, lookTile[1], lookTile[2])
			or handleRockTile(tile, lookTile[1], lookTile[2])
		)
			 then end 
	end
end

function handleIceTile(tile, newx, newy)
	
	if tile == btiles.ice then
		p.ice_skating = true
		sfx(60, "C-5", -1, 3)
		return false
	end
	
	if p.ice_skating == false then
		return false
	end
	
	if (is_walkable(tile) 
					or tile == btiles.wall
					or (tile >= btiles.rock_min 
					and tile <= btiles.rock_max)
					or (tile >= btiles.ice_rock_min
					and tile <= btiles.ice_rock_max)
	 )
	then
		p.ice_skating = false
		return false
	end
	
	return true
end

function handleFireTile(tile, newx, newy)
			
 for k, v in pairs(animations) do
 	if isTablesEqual(k, {newx, newy}) then
  	if p.cur_pick <= #p.pick then
				p.cur_pick = p.cur_pick + 1
			end
			animations[k] = nil
			-- table.remove(animations, index)
			mset(newx, newy, btiles.empty)
			sfx(58, "F-7", -1, 3)
   return false
  end
	end
	return true
end

function handleRockTile(tile, newx, newy)
	if not p.break_block then return false end
	
	if (tile >= btiles.rock_min and tile <= btiles.rock_max)
		or (tile >= btiles.ice_rock_min and tile <= btiles.ice_rock_max) then

			if p.cur_pick <= #p.pick then
				local cur_pick = p.pick[p.cur_pick]
				
				local offset = 0
				if tile >= btiles.ice_rock_min and tile <= btiles.ice_rock_max then
					offset = 16
				end
			
				
				if cur_pick >= (tile - offset) then
				 -- table.remove(p.pick, 1)
					p.cur_pick = p.cur_pick + 1

					if tile >= btiles.ice_rock_min and tile <= btiles.ice_rock_max then
						mset(newx, newy, btiles.ice)	
					else
						mset(newx, newy, btiles.empty)
					end
					
					if p.curr_entang ~= nil and isTablesEqual(p.curr_entang, {newx, newy}) then
						p.curr_entang = nil
					end
					
					local broke = false
					
					for i = 1, #entangs do
						for j = 1, #(entangs[i]) do
							if isTablesEqual(entangs[i][j], {newx, newy}) then
								-- remove all tiles in the entanglement that contains this tile
								for k = 1, #entangs[i] do
									local tileToRemove = mget(entangs[i][k][1], entangs[i][k][2])
									if tileToRemove >= btiles.ice_rock_min and tileToRemove <= btiles.ice_rock_max then
										mset(entangs[i][k][1], entangs[i][k][2], btiles.ice)	
									elseif tileToRemove >= btiles.rock_min and tileToRemove <= btiles.rock_max then
										mset(entangs[i][k][1], entangs[i][k][2], btiles.empty)
									end
								end
								
								table.remove(entangs, i)
								
								broke = true
								break	
							end
						end
						if broke then break end
					end
					
				else
					sfx(56, "A-3", -1, 3)
				end
			else
					sfx(56, "A-3", -1, 3)
			end
			
			sfx(44, "D-4", -1, 3)
			return true
		end
		
		return false
end

function handleGoalTile(tile, newx, newy)
	if tile == btiles.goal then
trace(".")
		if not p.in_overworld then
			if cur_lvl >= 6 then
				p.overworldpick[#p.overworldpick + 1] = 1
			end
			
			load_overworld()	
		else
			end_screen = true
		end
		
		return true
	end
			
	return false
end

function handleEmptyTile(tile, newx, newy)
	
	if is_walkable(tile) or tile == btiles.ice then
		p.x = newx
		p.y = newy
		
		return true
	end
			
	return false
end


function handleEntang(tile, x, y)
  if not (p.entang == true and p.ent > 0) then return false end
		if (tile >= btiles.rock_min and tile <= btiles.rock_max)
		 or (tile >= btiles.ice_rock_min and tile <= btiles.ice_rock_max) then
			if p.curr_entang == nil then
				p.curr_entang = {x,y}
				sfx(50, "B-3", -1, 3)
			else 
				if	not isTablesEqual(p.curr_entang, {x,y}) then
					if not isInEntang({x,y}) then
						entangs[#entangs + 1] = {p.curr_entang,{x,y}}
						p.curr_entang = nil
						p.ent = p.ent - 1
						sfx(51, "B-3", -1, 3)
					end
				else
					p.curr_entang = nil
				end
			end
		end
end

function isInEntang(tileCoords)
	for i = 1, #entangs do
		for j = 1, #entangs[i] do
			if isTablesEqual(entangs[i][j], tileCoords) then
				return true
			end
		end
	end
	return false
end

function getLookTile()
	if p.look == 0 then return {p.x, p.y - 1} end
	if p.look == 1 then return {p.x, p.y + 1} end
	if p.look == 2 then return {p.x - 1, p.y} end
	if p.look == 3 then return {p.x + 1, p.y} end
end

--------------- RENDERING ---------------------
 
function render()

 map(0, 0, 30, 17)
 drawAnimations()
	drawPlayer()
	drawEntangs()
	hud()

end

function drawAnimations()

	for k, v in pairs(animations) do
		if v ~= nil then
		 spr(v.initial + (v.cur_frame / v.rate) % v.nr_sprites, k[1] * 8, k[2] * 8, 0)
		 v.cur_frame = v.cur_frame + 1
		end
	end
end

function drawPlayer()
	 
	local flip = 0
	if p.look == 2 then flip = 1 end
	spr(ftiles.player[p.look + 1], p.x * 8, p.y * 8, 0, 1, flip)
end

function drawEntangs()
	if p.curr_entang ~= nil then
		rectb(p.curr_entang[1] * 8, p.curr_entang[2] * 8, 8, 8, 1)
	end
	
	for i = 1, #entangs do
		rectb(entangs[i][1][1] * 8, entangs[i][1][2] * 8, 8, 8, (i + 1)%15)
		rectb(entangs[i][2][1] * 8, entangs[i][2][2] * 8, 8, 8, (i + 1)%15)
	end
end
 
function hud()

	-- Level display
	local lvl_to_show = cur_lvl
	if p.in_overworld then
		lvl_to_show = overworld_level_selected()
	end
	
	if lvl_to_show ~= nil then
		local w = print("Level " .. tostring(lvl_to_show), -10, -10)
		rect(0, 0, w + 2, 10, 6) 
		print("Level " .. tostring(lvl_to_show), 2, 2)
	end
	
	if cur_lvl >= 2 or (p.in_overworld and p.pick[1] ~= nil) then
		spr(ftiles.pick, 80, 1, 0)
	
		local used_pick_values = ""
		local unused_pick_values = ""	
			
		for k, v in pairs(p.pick) do
			if k < p.cur_pick then
				used_pick_values = used_pick_values .. v .. " "
			elseif k == p.cur_pick then
				unused_pick_values = " [" ..  v  .. "] "
			else
				unused_pick_values = unused_pick_values .. v .. " "
			end
		end
		local w = print(used_pick_values, 90 + 1, 2, 9)
	 print(unused_pick_values, 90 + w, 2)
	end
	
		
	
	if not p.in_overworld then
		-- Entangle icon
		if cur_lvl >= 4 then
			local ePos = reversePrint("x" .. p.ent, 1, 2)
			spr(ftiles.entangle, screenw - ePos - 10, 1, 0)
		end
	
		-- Tutorial buttons
		if cur_lvl == 2 then
			print("Break (S)", 156, 49)
		elseif cur_lvl == 3 then
			print("Reset (Z)", 172, 89)
		elseif cur_lvl == 4 then
			print("Entangle (A)", 52, 41)
		end
	end
end


----------- LEVELS ----------------

function load_overworld()

	animations = {}

	local lvl = 63

	-- Copy map
	local mapx = 30 * (lvl % 8)
	local mapy = 17 * (lvl // 8)

	p.in_overworld = true
	p.x = p.overworldx
	p.y = p.overworldy
	p.pick = table.copy(p.overworldpick)
	p.cur_pick = p.overworld_cur_pick

	for i = mapx, mapx + 30 do
		for j = mapy, mapy + 17 do
			tile = mget(i, j)
			worldx = i % 30
			worldy = j % 17
			mset(worldx, worldy, tile)			
		end
	end
end

function unload_overworld()
	p.in_overworld = false
	p.overworldx = p.x
	p.overworldy = p.y
	p.overworldpick = table.copy(p.pick)
	p.overworld_cur_pick = p.cur_pick
	
	-- Copy map
	local lvl = 63
	local mapx = 30 * (lvl % 8)
	local mapy = 17 * (lvl // 8)
	
	for i = 0, 30 do
		for j = 0, 17 do
			tile = mget(i, j)
			worldx = i + mapx
			worldy = j + mapy
			mset(worldx, worldy, tile)
		end
	end
end

function overworld_level_selected()
	for i=1, #lvls do
		if lvls[i].x == p.x and lvls[i].y == p.y then
			return i
		end
	end
	
	return nil
end

function load_lvl_from_overworld()
	local l = overworld_level_selected()
	if l ~= nil then
			unload_overworld()
			load_level(l)
	end
end

function load_level(lvl)
	
	cur_lvl = lvl

	-- Load lvl properties
	local lvl_data = lvls[lvl]
	p.ent = lvl_data.ent
	p.pick = table.copy(lvl_data.pick)
	p.curr_entang = nil
	p.cur_pick = 1
	p.dead = false
	entangs = {}
	animations = {}
	

	-- Copy map
	local mapx = 30 * (lvl % 8)
	local mapy = 17 * (lvl // 8)
	
	for i = mapx, mapx + 30 do
		for j = mapy, mapy + 17 do
			tile = mget(i, j)
			worldx = i % 30
			worldy = j % 17
			mset(worldx, worldy, tile)
			
			if tile == btiles.map_player then
				p.x = worldx
				p.y = worldy
				
				mset(worldx, worldy, btiles.empty)
			end
			
			if tile == btiles.fire.initial then
				animations[{worldx, worldy}] = table.copy(btiles.fire)
				mset(worldx, worldy, btiles.empty)
			end
			
		end
	end

end





---------------- UTILS ---------------
function table.copy(t)
  local t2 = {}
  for k,v in pairs(t) do
    t2[k] = v
  end
  return t2
end

function table.contains(t, val)
	for i=1, #t do
		if t[i] == val then
			return true
		end
	end

	return false
end

-- !!!Does not work with nested lists!!!
function isTablesEqual(list1, list2)
	if #list1 ~= #list2 then return false end
	
	for i = 1, #list1 do
		if list1[i] ~= list2[i] then
			return false
		end	
	end
	
	return true
end



function reversePrint(text, x, y, color, fixed, scale, smallfont) 
 color = color or 15
 fixed = fixed or false
 scale = scale or 1
 smallfont = smallfont or false
 local width = print(text, 0, -30, color, fixed, scale, smallfont)
	return print(text, (240 - width - x), y, color, fixed, scale, smallfont)
end
-- <TILES>
-- 001:eeeeeeeeea8889aee89989aeeaaa89aeeaaa89aeeaaa89aee888889eeeeeeeee
-- 002:eeeeeeeeea88889ee89aa89eeaaa889eeaa889aee88aaaaee888889eeeeeeeee
-- 003:eeeeeeeeea8888aee8aaa89eeaa889aeeaaaa89ee8aaa89eea8889aeeeeeeeee
-- 004:eeeeeeeeea88aaaeea8aaaaee89a8aaee888889eeaaa89aeeaa889aeeeeeeeee
-- 005:eeeeeeeee888889ee889aaaee8889aaeeaaa889eeaaaa88ee88889aeeeeeeeee
-- 006:eeeeeeeeea8889aee889aaaee88889aee8aaa89ee8aaaa8ee888888eeeeeeeee
-- 007:eeeeeeeee888888ee888888eeaaa889eeaaa88aeeaa889aeeaa889aeeeeeeeee
-- 008:eeeeeeeeee8889aee8aaa89eea8888aee8aaa89ee8aaa89eea8889aeeeeeeeee
-- 009:eeeeeeeee888889ee8aaa89ee888889eeaaaa89eeaaa89aeeaa89aaeeeeeeeee
-- 010:eeeeeeeeea8888aeea89a8aeea89a8aee888889ee8aaa89ee8aaa89eeeeeeeee
-- 011:eeeeeeeee88889aee8aa89aee88889aee8aaa89ee8aaa89ee888889eeeeeeeee
-- 012:eeeeeeeeea88889ee89aaaaee89aaaaee89aaaaee89aaaaeea88889eeeeeeeee
-- 013:eeeeeeeee88889aee89aa89ee89aa89ee89aa89ee89aa89ee88889aeeeeeeeee
-- 014:eeeeeeeee888889ee89aaaaee8889aaee88889aee89aaaaee888889eeeeeeeee
-- 015:eeeeeeeee888889ee89aaaaee89aaaaee8889aaee89aaaaee89aaaaeeeeeeeee
-- 017:eeeeeeeeea8889aee89989aeeaaa89aeeaaa89aeeaaa89aee888889eeeeeeee9
-- 018:eeeeeeeeea88889ee89aa89eeaaa889eeaa889aee88aaaaee888889eeeeeeee9
-- 019:eeeeeeeeea8888aee8aaa89eeaa889aeeaaaa89ee8aaa89eea8889aeeeeeeee9
-- 020:eeeeeeeeea88aaaeea8aaaaee89a8aaee888889eeaaa89aeeaa889aeeeeeeee9
-- 021:eeeeeeeee888889ee889aaaee8889aaeeaaa889eeaaaa88ee88889aeeeeeeee9
-- 022:eeeeeeeeea8889aee889aaaee88889aee8aaa89ee8aaaa8ee888888eeeeeeee9
-- 023:eeeeeeeee888888ee888888eeaaa889eeaaa88aeeaa889aeeaa889aeeeeeeee9
-- 024:eeeeeeeeee8889aee8aaa89eea8888aee8aaa89ee8aaa89eea8889aeeeeeeee9
-- 025:eeeeeeeee888889ee8aaa89ee888889eeaaaa89eeaaa89aeeaa89aaeeeeeeee9
-- 026:eeeeeeeeea8888aeea89a8aeea89a8aee888889ee8aaa89ee8aaa89eeeeeeee9
-- 027:eeeeeeeee88889aee8aa89aee88889aee8aaa89ee8aaa89ee888889eeeeeeee9
-- 028:eeeeeeeeea88889ee89aaaaee89aaaaee89aaaaee89aaaaeea88889eeeeeeee9
-- 029:eeeeeeeee88889aee89aa89ee89aa89ee89aa89ee89aa89ee88889aeeeeeeee9
-- 030:eeeeeeeee888889ee89aaaaee8889aaee88889aee89aaaaee888889eeeeeeee9
-- 031:eeeeeeeee888889ee89aaaaee89aaaaee8889aaee89aaaaee89aaaaeeeeeeee9
-- 032:eecddccceeccdecdcccceedddcccccccddcddeccccccdeedcdcceeccecddcccc
-- 033:00000000444444440777bbb007a77ab000a77a0000aa7a0000777b0000000000
-- 034:07555570055ab55005abaa5005baaa5005555550055775500550055005500550
-- 035:d0000dc0cc000c0000000000cdc00ddcdd0000dd0000000c00c0dc000d00dcc0
-- 036:000000000000000000aaaa000faaaaf0afddddfaabccccbaabaaaabaabccccba
-- 048:07555570055ab55005abaa5005baaa5005555550055775500550055005500550
-- 049:0055550000aa550000aa55000055550000555500007755000077550000775500
-- 060:0000000000000000000000700000bbcc077bcc00007000000000000000000000
-- 061:0000000000077770000b7b7000777770077777700777b7c00bbbbc0000000000
-- 062:0005000660560000000000500600005605000000000605500000060006000000
-- 063:0600006000000000006500000005000560000056550000000000500000060000
-- 076:00077777000b7bb7000b7b7700777777077777770777b7cc0bbbbbc000000000
-- 077:00000770000007b7000077cc00077b000077c00077bc0000777000000bb00000
-- 090:0000000000008000000000000800008000000000000800000800008000000000
-- 096:088888808000000880bbbb0880b00b0880b00b0880bbbb088000000808888880
-- 097:0888888080000008800110088010010880100108800110088000000808888880
-- 098:088888808000000880a00a08800aa008800aa00880a00a088000000808888880
-- 099:0888888080000008800660088066660880600608806666088000000808888880
-- 128:dddddddddcccccccdcccccccdcccccccdcccccccdcccccccdcccccccdddddddd
-- 129:ddddddddccccccccccccccccccccccccccccccccccccccccccccccccdddddddd
-- 136:eecddccce222222dc22ce22dd22cc22cd22dd22cc22cd22dc222222cecddcccc
-- 137:eecddcccee2222cdc22222dddccc22ccddcd22cccccc22edc222222cecddcccc
-- 138:eecddcccee22222dc22cc22ddcccc22cddc222ccc22cdeedc222222cecddcccc
-- 139:eecddcccee2222cdc2cce22ddcc222ccddcdd22cc2ccd22dcd2222ccecddcccc
-- 140:eecddccce666666dc66ce66dd66cc66cd66dd66cc66cd66dc666666cecddcccc
-- 141:eecddcccee6666cdc66666dddccc66ccddcd66cccccc66edc666666cecddcccc
-- 142:eecddcccee66666dc66cc66ddcccc66cddc666ccc66cdeedc666666cecddcccc
-- 143:eecddcccee6666cdc6cce66ddcc666ccddcdd66cc6ccd66dcd6666ccecddcccc
-- 144:0000000000111000011100001122100012321100124311101124211001111100
-- 145:0001100000001000001100000111110011231110112331101124211001111110
-- 146:0000000000001100000001100000121000112310011223100112441001111110
-- 147:0055660006555660556666555556655606666660000cc0000dedddc00dedddc0
-- 148:04bbb0000bc4c0000bbcc000044c990000aaa9900009a00000099aa000000099
-- 152:eecddcccee22decdcc2ceeddd22c2cccd222222ccccc2eedcdc22eccecddcccc
-- 153:eecddccce222222dc22ceeddd222ccccddcd22ccccccd22dc22222ccecddcccc
-- 154:eecddcccee222ecdc22ceeddd2222cccd2cdd22cc2ccde2dc222222cecddcccc
-- 155:eecddccce222222dc222222ddccc22ccddcd22ccccc22eedcdc22eccecddcccc
-- 156:eecddcccee66decdcc6ceeddd66c6cccd666666ccccc6eedcdc66eccecddcccc
-- 157:eecddccce666666dc66ceeddd666ccccddcd66ccccccd66dc66666ccecddcccc
-- 158:eecddcccee666ecdc66ceeddd6666cccd6cdd66cc6ccde6dc666666cecddcccc
-- 159:eecddccce666666dc666666ddccc66ccddcd66ccccc66eedcdc66eccecddcccc
-- 168:eecddcccee2222cdc2ccee2ddc2222ccd2cdde2cc2ccde2dcd2222ccecddcccc
-- 169:eecddccce222222dc2ccee2dd222222cddcdd22ccccc22edcdc22eccecddcccc
-- 170:eecddcccee2222cdcc2ce2dddc2cc2ccd222222cc2ccde2dc2ccee2cecddcccc
-- 171:eecddccce2222ecdc2cce2ddd22222ccd2cdde2cc2ccde2dc22222ccecddcccc
-- 172:eecddcccee6666cdc6ccee6ddc6666ccd6cdde6cc6ccde6dcd6666ccecddcccc
-- 173:eecddccce666666dc6ccee6dd666666cddcdd66ccccc66edcdc66eccecddcccc
-- 174:eecddcccee6666cdcc6ce6dddc6cc6ccd666666cc6ccde6dc6ccee6cecddcccc
-- 175:eecddccce6666ecdc6cce6ddd66666ccd6cdde6cc6ccde6dc66666ccecddcccc
-- 184:eecddcccee22222dc2cceeddd2ccccccd2cddeccc2ccdeedcd22222cecddcccc
-- 185:eecddccce22222cdc2ccee2dd2cccc2cd2cdde2cc2ccde2dc22222ccecddcccc
-- 186:eecddccce222222dc2cceeddd222ccccd2222eccc2ccdeedc222222cecddcccc
-- 187:eecddccce222222dc22ceeddd22cccccd2222eccc22cdeedc22ceeccecddcccc
-- 188:eecddcccee66666dc6cceeddd6ccccccd6cddeccc6ccdeedcd66666cecddcccc
-- 189:eecddccce66666cdc6ccee6dd6cccc6cd6cdde6cc6ccde6dc66666ccecddcccc
-- 190:eecddccce666666dc6cceeddd666ccccd6666eccc6ccdeedc666666cecddcccc
-- 191:eecddccce666666dc66ceeddd66cccccd6666eccc66cdeedc66ceeccecddcccc
-- 200:cbbcccccdcdddbddcccccbbbdddcdddcbbbbccccdbdddcddcccccbbbdddcdddb
-- 201:ccccccccdcdddcddccccccccdddcdddcccccccccdcdddcddccccccccdddcdddc
-- 202:eeeeeeeeecccccceeddddddeecccccceeddddddeecccccceeddddddeeeeeeeee
-- 203:888888888aaaaaa8899999988aaaaaa8899999988aaaaaa88999999888888888
-- 204:0000000006666670067006700670067006700670067006700666667000000000
-- 205:0000000000666700067767000000670000006700000067000666667000000000
-- 206:0000000000666670067006700000667000066700066000000666667000000000
-- 207:0000000000666600060006700006670000000670060006700066670000000000
-- 208:0444ffdd000ff4fc00004f98000dc98800dcc0890dcc0009dcc00008dc000000
-- 216:0000000000c0c0000cd00000000000000eec0dc0ddcccddceeeddc0000000000
-- 217:ccc000ccd0eeecddcccccc00dddcdeecc00cccccdccddcddc000ccccddd0eedc
-- 218:00000000020000002220000023300000d4200000cd000000c000000000000000
-- 220:0000000000660000006000000670600006666670000067000006670000000000
-- 221:0000000006666670066700000666700000006670000006600666670000000000
-- 222:0000000000666700066700000666670006000670060000600666666000000000
-- 223:eecddccce666666dc666666ddccc667cddcd66ccccc667edcdc667ccecddcccc
-- 224:000fff4400f44444000008ff0000000900000000000000000000000d000000cd
-- 225:44ff0dddffff4ddcff44f8c0844ff8809fff8988ddf8988fddc988ffccc99fff
-- 236:eecddcccee66667dc6cce67ddc6666ccd6cdd67cc6ccd67dcd6667ccecddcccc
-- 237:eecddccce666667dc6cce67dd666667cddcdd67ccccc67edcdc67eccecddcccc
-- 238:eecddcccee6666cdcc67e6dddc67c6ccd666667cc6ccd67dc6cce67cecddcccc
-- 239:eecddccce66667cdc6cc67ddd66667ccd6cdd67cc6ccd67dc666667cecddcccc
-- 240:00000ddc0000ddcc000cdccc00ddccc0dddccc00dddcc000dccc0000cccc0000
-- 241:cc009ff8c00009f8000009890000008900000099000000900000000000000000
-- 242:eecddccce222221dc21ce21dd21cc21cd21dd21cc21cd21dc222221cecddcccc
-- 252:eecddcccee66667dc67ceeddd67cccccd67ddeccc67cdeedcd66667cecddcccc
-- 253:eecddccce66667cdc67ce67dd67cc67cd67dd67cc67cd67dc66667ccecddcccc
-- 254:eecddccce666667dc67ceeddd6667cccd66667ccc67cdeedc666667cecddcccc
-- 255:eecddccce666667dc67ceeddd67cccccd6667eccc67cdeedc67ceeccecddcccc
-- </TILES>

-- <SPRITES>
-- 000:0422000004444117057700113322267b3322270a322223000eedd0000e00d000
-- 001:042211170444461b0577076a0222233a0332220003322ddd03ee00000e000000
-- 002:0444ffdd000ff4fc00004f98000dc98800dcc0890dcc0009dcc00008dc000000
-- 003:00ee30000dea70000dd770000555550007555700077557000772170000201000
-- 004:00eee00000eee0000ddddd000555550007555700075557000722170000201000
-- 005:00e3e00000a7a0000d777d000555550007555700075557000722170000201000
-- 016:04220117044440113377067b3322270a322223000eedd0000e00d00000000000
-- 018:0000000000988700094948700794897007984970078494900078890000000000
-- 032:04444117046606113322277b3222230a3eed23000e0dd000e00d000000000000
-- 064:0443333001311310013333100023320000011000000110000033220004333330
-- 065:00000000444444440777bbb007a77ab000a77a0000aa7a0000777b0000000000
-- 066:000000000ffffff00fbbbbf00ffffff00fbbbbf00f0000f00ffffff000000000
-- 085:700000007b0000007bbb00007bbbb0007bbbbbbb77bbbbbb77bbbbbb77bbbbbb
-- 086:000000000000007700000bb7000bbbb7bbbbbbb7bbbbbbbb2222bbbb22222222
-- 087:7777777777777777777777777777777777777777777777777777227722222277
-- 088:7777000077777700777777777777777777777777777777777777777772277777
-- 089:0000000000000000bb000000bbbbbbbbbbbbbbbbbbbbbbbb7bbbbb227bbbbb22
-- 090:000777770077777777777777b7777777bb777777bb7777772222277722222222
-- 091:7777000077777000777777777777777777777777777777777777777777222227
-- 092:0000000000000000700000007777000077777bbb77777bbb77777bbb77777bb2
-- 093:00000000000000000000000000000007bbbbbbbbbbbbbbbbbbbbbbbb2bbbb222
-- 094:000000000000000000000777777777777777777777777777b7777777b7772277
-- 095:0000000000000000770000007700000077000000777000007770000077770000
-- 101:77bbbbbb77bbbb1111bbbb11111bbb11111bbbb1111b11111111111101111bbb
-- 102:b2222222b22222bbbb222bbb1bb22bbb1bb2222211bb222211bb222b11bbb22b
-- 103:222227777777777777777777777771172777711722777111b7777711bb777711
-- 104:7227777772277777722777777222777777227777772277777722777777222777
-- 105:77bbbb2277bbbb22777bbb227777bb22777bbb22777bbbb27777bbb27777bbb2
-- 106:bbb22222bbb77722bbbb7772bbbb77722bbb77722bbbb7722bbbb7722bbbbb72
-- 107:2722222227772222277722222777722227777722277777222777777227777772
-- 108:222222222222222227777bbb777777bb777777bb222277bb2222277b2277777b
-- 109:2bbbb222bbbbb222bbbbb222bbbbb222bbbbb222bbbbb222bbbbb222bbbbb222
-- 110:277722772b772277227722772277227722b72277b2277227b22b7227b222b227
-- 111:7777000077770000777700007777000077770000777700007777000077770000
-- 117:011bbbbb011bbbbb011bbbbb011bbbbb00bbbbbb00bbbbbb00bbbbbb00bbbbbb
-- 118:11bbb22b11b2222211b22222bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
-- 119:bb7722112222221122222711bb777711bbb77711bbb77777bbb77777bbb77777
-- 120:7772277777722222777222221112222711177777777777777777777777777777
-- 121:7777bbb22222bbb222227bb277777bb277777bbb77777bbb777777bb777777bb
-- 122:2bbbbb222222222222222222222bbbb7bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
-- 123:277777772777777777777722777777227777777777777777b7777777b7777777
-- 124:2277777722777772222222222222222277777777777777777777777777777777
-- 125:bbbbbb222bbbbb222bbbbb22bbbbbb227bbbbb227bbbbbbb7bbbbbbb77bbbbbb
-- 126:bb22b227bb222227bb222227bbb22227bbbbbbb7bbbbbbb7bbbbbbb7bbbbbbb7
-- 127:7777700077777700777777007777777077777770777777777777777777777777
-- 133:00bbbbbb00022bbb00022222000b2222000bb222000bb2220007b2220007b222
-- 134:bbbbbbbbbbbbbbbbbbbbbbbbbbbb222b2bb2222b2bb2222b2bb2222b2bb2222b
-- 135:bbbb7777bbbb7777bbbb7722bbbb7722bbbbb722bbbbb222bbbbb222bbbbb227
-- 136:7777777777777222777772222777722222777777227777772277777722277777
-- 137:777777bb7222222b222222222227722222277772722777777222222272222222
-- 138:bbbbbbbbbbbbbbbbbbbbbbbb22bbbbb222bb222222bb222222bbbbbb22bbbbbb
-- 139:b7777777bb777777222227772222227722b2227722bbb77222bbb77222bbbb77
-- 140:7777777777777777777777777777777777722222222222222222277777722777
-- 141:77bbbbbb77bbbbbb777bbbbb77722bbb7772222b7772222b7772222277722222
-- 142:bbbbbbb7bbbbbbb7bbbbbbb7bbbbbbb2bb2bbb22b22bbb22b222bb22b222bb22
-- 143:7777777777777777222222272222227722777777277777777777777722777777
-- 149:0007b2220007b2220007722b0007722b0007722b0007222b000722bb000722bb
-- 150:2b22222b2222b2222222bb22222bbb22bbbbbb22bbbbbb22bbbbbbbbbbbbbbbb
-- 151:bbbb2227bbbb2227bbbb2222bbbb22222bb222bb2bb22bbbbbb22bbbbbb22bbb
-- 152:7227777772277777222777772222777777227777772227777722277777777777
-- 153:7722227777222227772272277722722272227722722277777227777772277777
-- 154:7bbbbbbb7bbbbbbb77bbbbbb22222bbb22222bbb2222bbbb722bbbbb7777bbbb
-- 155:22bbbbb722bbbbbb22bbbbbb22bbbbbb22bbbbbb22bbbbbb22bbbbbb22bbbbbb
-- 156:777227777772277777722777b7722777b7722777b7722777bb72222222222222
-- 157:77722b2277722b2277722bb2777222b2777722bb777722bb777722bb777722bb
-- 158:2b22bb222b22bbb72b22bbb72222bbb72222bbb72222bbb72222bbb2bbbbbb22
-- 159:2222227772222227777722227777722277777222722222272222222722277777
-- 165:000777bb000077bb000000bb0000000b00000000000000000000000000000000
-- 166:bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb00bbbbbb00000bbb0000000000000000
-- 167:bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb00000000
-- 168:b7777777b7777777bb777777bb777777bbb77770bbb700000000000000000000
-- 169:7227777777777777777777777777000000000000000000000000000000000000
-- 170:7777bbbb77777bbb77777bbb777777bb000777bb0000000b0000000000000000
-- 171:22bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb00bbbbbb0000bbbb
-- 172:22222777bbbb7777bbbb7777bbbb7777bbbb7777bbbbb777bbbbb777bbbbbbb0
-- 173:777722bb777772bb777777bb7777777b7777777b777770007770000000000000
-- 174:bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb000000000000000000000000
-- 175:7777777777777777777777777777777777777777077777770007777700000000
-- 201:0000000000000000000000000000000000000000000000070000007700000777
-- 202:0000000000000000000000000000000077770000777775507777755077775555
-- 213:000000000000000000000000000000dd000000dd000000dd000000dd00000ddd
-- 214:00000000000000002222222222222222111111111111111111111112ee001112
-- 215:0000000000000000000000022211122211222222122222222222222222222211
-- 216:0000055502222555222225552222266622211166221111661111116611111116
-- 217:55557777555777775557777666bbb76667bb7766677b77666666666666666666
-- 218:7655555566555557666555576665555766655557666655576666555766665557
-- 219:000000007ddddeeedddddeeedddddeeedddddeeeddddeeee77ddeeee7dddeeee
-- 220:0000004400000044e0000007ee000007ee000007ee000007ee000007ee000007
-- 221:4444444444444444777777777777777777777777aa7777aaaa7777aaaa7777aa
-- 222:44777b004777bb00bbbbb000bbbbb000bbbbb000bbaab000bbaab000bbaab000
-- 226:444444444444444407777777077777770777777707aa777707aa777707aa7777
-- 227:4444777b444777bb77bbbbb077bbbbb077bbbbb0aabbaab0aabbaab0aabbaab0
-- 229:00000dde00000000000000000000000000000000000000000000000000000000
-- 230:ee00000200000002000000010000000000000000000000000000000000000000
-- 231:2222211122222211122222001122220001122220001222200011222200011222
-- 232:1111111611111116011111160000000000000000000000000000000000000000
-- 233:66666666666666666666666600000000000000770000000b0000077b0000000b
-- 234:6666555766665555666655550000055577000777b7777777bb777777bb7777bb
-- 235:ddddeeeeddddeeeeddddeeee55000000777000007777000077770000bbbb0000
-- 236:ee000007ee000007000000000000000000000000000000000000000000000000
-- 237:aa7777aaaaa777aa7aaaa7aa7aaaa77a7777777b7777777b7777777b7777777b
-- 238:bbaab000bbaab000aaab0000aaab0000bbbb0000bbbb0000bbbb0000bbbb0000
-- 242:07aa777707aaa777007aaaa7007aaaa700777777007777770077777700777777
-- 243:aabbaab0aabbaab0aaaaab007aaaab007bbbbb007bbbbb007bbbbb007bbbbb00
-- 247:00012eee00eeeddd0ddddddd0ddddddd00000000000000000000000000000000
-- 248:ee000000dd000000dd000000d000000000000000000000000000000000000000
-- 249:0000077700000000000000000000000000000000000000000000000000000000
-- 250:77bbbbbb00000000000000000000000000000000000000000000000000000000
-- </SPRITES>

-- <MAP>
-- 000:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 002:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000490000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e3000000c4000000000000000000000000000000000000000000000000000009000000000000000000000000000000000000000000000000000000000000000000008d0000000000
-- 003:00000000000000000000000000000000000000000000000000000000000000000000490039000000000000000000000000000000003900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e3e300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008d000000000000000000000000000000000000000000
-- 004:00000000000000000000000000000000000000000000000000000000000000000000000000000202020202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200901290000200000000000000000000000000000000000000000000000000000000000000020202020202000000000000000000c400000000000000000000000000000000000000000000000000000000000000000000000002020202020202000000000000323200000000000000000000000000000000000000000000000000000000000000000000
-- 005:0000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000020000000002000000000000000000000000000000020202020202000000000000000000000000000000000000000000000000000000020000100000020000000000000000000000000000000000260000000000000000000000000002101010100200000000000000000000d400000000020202020202020202020202020202000000000000000000320000c4000000020090129000020000c3000000000000c33200000000000000000000000002020202020202020202020200000000000000
-- 006:000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000002000012000200000000000000000000000000000002000000000200000000060000000000000000000000000000000000000000000002000000000002000000000000000000000000000000000000000000000000000000000000000210101010020000000000000000000000000000000200000000000000000000000000020000000000000000003200000000000002000090000002000000000000000000323200000000000000000000020202a5a502a5a5a5a5a5a5a50200000000000000
-- 007:00000000000000000000000000000000000000000000000000000000000000000000000000020000000002a5a5a5a502000000000200000000000000000000000000000002000012000200000000000000000000000000000000000000000000000000000002000000000002000000000000000000000000000000000000000000000000000000000000000210101010020000000000000000000000000000000200000000000000000000000000020000000000000000000000003200000002000000000002000000000000000032000000000000008d0000000002a5a5a5a5a5a5a5a5a5a5a5a50202020200000000
-- 008:00000000000000000000000000000000000000000000000000000000000000000000000000020000000002a5a5a5a50200000000020000000000000000000202020202020220000000020000000000000000000000000000000000000000000000000000000260020202500200000000000000000000000000000000000000000000000000000000000202021010101002000000000000000000000000000000020000000000000000000000000002000000000000000000000000000000000200000000000200000000000000000000000000000000000000000002a5a5a5a5a5a5a5a5a502a5a5a5a5a50200000000
-- 009:00000000000000000000000000000000000000000000000000000000000000000000000000020000000002a5a5a5a5020000000002000000000000000000020000001000008020000002000000000000000000000000000000000000000000000000000000021002390220020000000000000000000000000000000000000000000000000000000000020090000000000200000000000000000000e300000000020000000000000000000000000002000000000000000009000000000000000250020202600200000000000000000009000000000000000000000202a5a5a5a5a5a5a5a5a5a5a5a50202a502ad000000
-- 010:00000000000000000000000000000000000000000000000000000000000000000000000000020000000002a5a5a5a502000000000200000000000000000002002200020000000202020200000000000000000000000000000000000000000000000000000002200202023002000000000000000000000000000000000000000000000000000000000002129000000000020000000000000000000000000000000200000000000000000000000000020000000000000000000000000000d40002200239021002000000c30000000000000000000202020202020202a5a5a5a5a5a5a5a5a5a5a5a5a50202a50200000000
-- 011:0000000000000000000000000000000000000000000000000000000000000000000000000002002200000200000000000000000002000000000000000000020000002000000002000000000000000000000000000000000000000000000000000000000000020000000000020000360000000000000000000000000000000000000000000000000000020090000000000200000000000000000000000000000002000000020202020202024040400200000000000000000000000000000000023002020240020000000000000000000000000002a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a50200000000
-- 012:0000000000000000000000000000000000000000000000000000000000000000000000000002000000000200000000000000000002000000000000000000020202020202020202000000000000000000000000000000000000000000000000000000000000020000220000020000000000000000000000000000000000000000000000000000000000020202000022000200000000000000000000000000000002000000000009090900100000000200000000000000000000000000000000020000000000020000000000c40000000000000002a5020202020202a5a5a510a5a5a5a5a5a5a5a5a50202020200000000
-- 013:0000000000000000000000000000000000000000000000000000000000000000000000000000020202020202020202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000020000000000000000000000000000000000000000000000000000000000000002000000000200000000000000000000000000000002002200000009090900100012000200000000000000000032000000000000020000220000020000000000000032320000000002a5020202020202020202020202100022000202020200000000000000
-- 014:0000000000000000000000000000000000000000000000000000000000000049000000003900000000000000000000000000000000390000004900000000000000000000000000000000000000000000000000000000000000000000000000000000000000020202020202020000000000000000000000000000000000000000000000000000000000000002020202020200000000000000000000000000000002000000000009090900100000000200000000000000000000000000320000020000000000020000000000003232000000000002a5009000900012000200000002020202020200000000000000000000
-- 015:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002020202020202020202020202020200000000000000c40000000000000000020202020202020000000000000000000000000002020202020202020202000000000000000000000000008d0000000000
-- 016:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d40000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 018:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000202020202020202020202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 019:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000202a5a5a5a5a5a5a5a5a5a5a5a5a50200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 020:000000000000000000000000000000000000000000000000490000000000000002020202020202020202020202a50202020202020202020202a50200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 021:00490000000002020202020202020202020202020202020200000000000000000222a5a5a5a5a5a5a5a5a5a5a521a5a5a5a5a5a5a5a5a5a5a5a50200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 022:0000000000000200000000000909091009090902a5a5a50200000000000000000202a5020202020202020202a5a502020202a5020202020202910200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 023:0000000000000200000000000009090909090090a510a5020000000000000002020202020909090909090902a5a509090902a5020909090902000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 024:0000000000000200000000000000000000300002a5a5a5020202020000000002120002020202020202020202a50202020202a5a502a5a5a5a5000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 025:0000000000000200000000000002090909090902a5a50202000002000000000202a591a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 026:000000000000022200000000000000020909000080a5a5900012020000000000000209a5a5a5a5a5a5a5a561a50202090202a5a50200000002000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 027:000000000000020000000000000209092000000002a5500200000200000000000002a502020202020202020231020202020202a50200000002000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 028:0000000000000200000000000009090009090930a5a5a50202020200000000000002a5020909090909090902a5a5a5a5a5a5a5a50200490002000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 029:0000000000000200000000000909090009090902a5a5a50200000000000000000002a5020909090909090902a5020202020202a50200000002000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 030:00000000000002020202020202020202020202020202020200000000000000000202a5020202020202020202a5020202020202a50202020202910200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 031:000000004900000000000000000000000000000000000000000000000000000002a5a5a5a5a5a5a5a5a5a5a5a502a5a5a5a5a5a551a5a5a5a5a50200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 032:000000000000000000000000000000000000000000000000000000004900000002020202020202020202020202020202020202020202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 033:000000000000000000000000000000000000000000490000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 118:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d40000000000000000000000000000000000000000
-- 120:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a0a0000000000000000000000000000000a0000000a8d000000000000
-- 121:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a00490000000000008d9d00000000000000000000000a000000320000
-- 122:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004900000000000000000000323200
-- 123:00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a0000000000000a0a0a0000000000000a0000000a00000000003200
-- 124:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a42a5a5a5a5a5a5a511a5a5a5a5a5a5a542a5a5a5420a000000000000
-- 125:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a50032320000000a0a0a0a0000000000a5000000a50a000049000000
-- 126:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a53200000a0000000a0000008d000000a5003900a500000000000000
-- 127:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a500000a42a5a5a5420a000000000000a5000000a500000000000000
-- 128:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a5000000a5000000a50000000000000a42a5a5a5000a000000000000
-- 129:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a5004900a5009c32a5000000000000000a00000a110a000000320000
-- 130:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a5000000a5009d00a5000000c40000000000000a110a000000320000
-- 131:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a42a5a5a5420a9c00a500000000d40000000000001100000000000000
-- 132:00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000032000a0000000a000000a50000000000000000000000000a000000000000
-- 133:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a00a5a5a5a5a5a5a5420a003200000000000000001200000000000000
-- 134:00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000000000000000a00000000000000000000000000000000000000
-- 135:00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000
-- </MAP>

-- <WAVES>
-- 000:00000000ffffffff00000000ffffffff
-- 001:0123456789abcdeffedcba9876543210
-- 002:0123456789abcdef0123456789abcdef
-- 004:00000000ffffffffffffffffffffffff
-- </WAVES>

-- <SFX>
-- 000:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000304000000000
-- 044:2f004f005f006f007f009f00af00af00bf00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00309000000000
-- 050:2c004c305c306c307c30fc302c0b4c3b5c3bfc3bfc3bfc3bfc00fc00fc00fc00fc00fc00fc00fc00fc00fc00fc00fc00fc00fc00fc00fc00fc00fc00a85000000000
-- 051:2c004c305c306c307c30fc302c0b4c3b5c3bfc3bfc3bfc3b2c074c375c376c377c37fc37fc00fc00fc00fc00fc00fc00fc00fc00fc00fc00fc00fc00a8b000000000
-- 056:05000500050005000500f500f500f5000500050005000500050005000500f500f500f500f500f500f500f500f500f500f500f500f500f500f500f500204000000000
-- 058:5f006f006f007f009f00af00bf00cf00cf00df00ef00ef00ef00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00605000000000
-- 060:cc20bc60bc90bc90bc80bc70bc60cc60cc60cc50dc50dc40ec30ec30ec20fc00fc00fc00fc00fc00fc00fc00fc00fc00fc00fc00fc00fc00fc00fc00400000000000
-- </SFX>

-- <PALETTE>
-- 000:000014b31909c55510e4c719e9dbc065a65f448244c5a4868b9c9d6475862f1559745765430e276b273b862639c5b5b5
-- </PALETTE>

